---
title: Definindo regras de normalização no Skype for Business Server
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
description: As regras de normalização do Skype for Business Server usam expressões regulares do .NET Framework para converter números de telefone discados em formato E. 164; em outras palavras, as regras de normalização levam o número de telefone discado por um usuário e convertem esse número no formato usado internamente pelo Skype for Business Server. Cada plano de discagem deve ter uma ou mais regras de normalização atribuídas.
ms.openlocfilehash: 2fd7f59bcebcfe676a03ce5a6a897336551ddbad
ms.sourcegitcommit: 33db8c7febd4cf1591e8dcbbdfd6fc8e8925896e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/19/2020
ms.locfileid: "42151211"
---
# <a name="defining-normalization-rules-in-skype-for-business-server"></a><span data-ttu-id="4e87a-104">Definindo regras de normalização no Skype for Business Server</span><span class="sxs-lookup"><span data-stu-id="4e87a-104">Defining normalization rules in Skype for Business Server</span></span>

<span data-ttu-id="4e87a-105">As regras de normalização do Skype for Business Server usam expressões regulares do .NET Framework para converter números de telefone discados em formato E. 164; em outras palavras, as regras de normalização levam o número de telefone discado por um usuário e convertem esse número no formato usado internamente pelo Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="4e87a-105">Skype for Business Server normalization rules use .NET Framework regular expressions to translate dialed phone numbers to E.164 format; in other words, normalization rules take the phone number dialed by a user and convert that number to the format used internally by Skype for Business Server.</span></span> <span data-ttu-id="4e87a-106">Cada plano de discagem deve ter uma ou mais regras de normalização atribuídas.</span><span class="sxs-lookup"><span data-stu-id="4e87a-106">Each dial plan must be assigned one or more normalization rules.</span></span>

<span data-ttu-id="4e87a-107">Para obter detalhes sobre as regras de normalização, consulte [Dial Plans and Normalization Rules](https://technet.microsoft.com/library/gg413082(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="4e87a-107">For details about normalization rules, see [Dial plans and normalization rules](https://technet.microsoft.com/library/gg413082(v=ocs.15).aspx).</span></span>

<span data-ttu-id="4e87a-108">Para obter detalhes sobre como escrever expressões regulares, consulte [expressões regulares do .NET Framework](https://go.microsoft.com/fwlink/p/?linkId=140927).</span><span class="sxs-lookup"><span data-stu-id="4e87a-108">For details about how to write regular expressions, see [.NET Framework Regular Expressions](https://go.microsoft.com/fwlink/p/?linkId=140927).</span></span>

<span data-ttu-id="4e87a-109">É possível usar um dos seguintes métodos para definir ou editar uma regra de normalização:</span><span class="sxs-lookup"><span data-stu-id="4e87a-109">You can use either of the following methods to define or edit a normalization rule:</span></span>
- <span data-ttu-id="4e87a-110">[Use a ferramenta **criar uma regra de normalização** ](#create-or-modify-a-normalization-rule-by-using-build-a-normalization-rule) para especificar valores para os dígitos iniciais, comprimento, dígitos a serem removidos e dígitos a serem adicionados e permitir que o painel de controle do Skype for Business Server gere o padrão correspondente e a regra de conversão para você.</span><span class="sxs-lookup"><span data-stu-id="4e87a-110">[Use the **Build a Normalization Rule** tool](#create-or-modify-a-normalization-rule-by-using-build-a-normalization-rule) to specify values for the starting digits, length, digits to remove and digits to add, and then let Skype for Business Server Control Panel generate the corresponding matching pattern and translation rule for you.</span></span>
- <span data-ttu-id="4e87a-111">[Escreva expressões regulares manualmente](#create-or-modify-a-normalization-rule-manually) para definir o padrão de correspondência e a regra de conversão.</span><span class="sxs-lookup"><span data-stu-id="4e87a-111">[Write regular expressions manually](#create-or-modify-a-normalization-rule-manually) to define the matching pattern and translation rule.</span></span> 

## <a name="create-or-modify-a-normalization-rule-by-using-build-a-normalization-rule"></a><span data-ttu-id="4e87a-112">Criar ou modificar uma regra de normalização usando a criação de uma regra de normalização</span><span class="sxs-lookup"><span data-stu-id="4e87a-112">Create or modify a normalization rule by using Build a Normalization Rule</span></span>

<span data-ttu-id="4e87a-113">Complete as etapas a seguir se quiser criar ou modificar uma regra de normalização no painel de controle do Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="4e87a-113">Complete the following steps if you want to create or modify a normalization rule in Skype for Business Server Control Panel.</span></span> 

<span data-ttu-id="4e87a-114">**Para definir uma regra usando Compilar uma Regra de Normalização**</span><span class="sxs-lookup"><span data-stu-id="4e87a-114">**To define a rule by using Build a Normalization Rule**</span></span>

1. <span data-ttu-id="4e87a-115">Faça logon no computador como um membro do grupo RTCUniversalServerAdmins ou como membro da função CsVoiceAdministrator, CsServerAdministrator ou CsAdministrator.</span><span class="sxs-lookup"><span data-stu-id="4e87a-115">Log on to the computer as a member of the RTCUniversalServerAdmins group, or as a member of the CsVoiceAdministrator, CsServerAdministrator, or CsAdministrator role.</span></span> <span data-ttu-id="4e87a-116">Para obter detalhes, consulte [delegar permissões de configuração](https://technet.microsoft.com/library/gg412735(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="4e87a-116">For details, see [Delegate setup permissions](https://technet.microsoft.com/library/gg412735(v=ocs.15).aspx).</span></span>
2. <span data-ttu-id="4e87a-117">Abra uma janela do navegador e insira a URL do administrador para abrir o painel de controle.</span><span class="sxs-lookup"><span data-stu-id="4e87a-117">Open a browser window, and then enter the Admin URL to open the Control Panel.</span></span> <span data-ttu-id="4e87a-118">Para obter detalhes sobre os diferentes métodos que você pode usar para iniciar o painel de controle do Skype for Business, consulte [instalar e abrir ferramentas administrativas](../../management-tools/install-and-open-administrative-tools.md).</span><span class="sxs-lookup"><span data-stu-id="4e87a-118">For details about the different methods you can use to start the Skype for Business Control Panel, see [Install and open administrative tools](../../management-tools/install-and-open-administrative-tools.md).</span></span>
3. <span data-ttu-id="4e87a-119">Opcion Siga as etapas em [criar um plano de discagem](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-create-a-dial-plan) até a etapa 11 ou [modificar um plano de discagem](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-modify-a-dial-plan) até a etapa 10.</span><span class="sxs-lookup"><span data-stu-id="4e87a-119">(Optional) Follow the steps in [Create a dial plan](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-create-a-dial-plan) through step 11 or [Modify a dial plan](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-modify-a-dial-plan) through step 10.</span></span> 
4. <span data-ttu-id="4e87a-120">Em **Nova Regra de Normalização** ou **Editar Regra de Normalização**, digite um nome que descreva o padrão numérico que está sendo normalizado em **Nome** (por exemplo, **5DigitExtension**).</span><span class="sxs-lookup"><span data-stu-id="4e87a-120">In **New Normalization Rule** or **Edit Normalization Rule**, type a name that describes the number pattern being normalized in **Name** (for example, **5DigitExtension**).</span></span>
5. <span data-ttu-id="4e87a-121">(Opcional) Em **Descrição**, digite uma descrição da regra de normalização (por exemplo, "Converte extensões de cinco dígitos").</span><span class="sxs-lookup"><span data-stu-id="4e87a-121">(Optional) In **Description**, type a description of the normalization rule (for example, "Translates 5-digit extensions").</span></span>
6. <span data-ttu-id="4e87a-122">Em **Compilar uma Regra de Normalização**, digite valores nos campos a seguir:</span><span class="sxs-lookup"><span data-stu-id="4e87a-122">In **Build a Normalization Rule**, enter values in the following fields:</span></span>
    - <span data-ttu-id="4e87a-123">**Dígitos iniciais**: (opcional) especifique os dígitos à esquerda dos números discados que você deseja que o padrão corresponda.</span><span class="sxs-lookup"><span data-stu-id="4e87a-123">**Starting digits**:   (Optional) Specify the leading digits of dialed numbers you want the pattern to match.</span></span> <span data-ttu-id="4e87a-124">Por exemplo, digite **425** se quiser que o padrão corresponda aos números discados que comecem com 425.</span><span class="sxs-lookup"><span data-stu-id="4e87a-124">For example, type **425** if you want the pattern to match dialed numbers beginning with 425.</span></span>
    - <span data-ttu-id="4e87a-125">**Comprimento**: especifique o número de dígitos no padrão de correspondência e selecione se deseja que o padrão corresponda exatamente a esse tamanho, coincidir números discados com pelo menos esse comprimento ou coincidir números discados de qualquer tamanho.</span><span class="sxs-lookup"><span data-stu-id="4e87a-125">**Length**:   Specify the number of digits in the matching pattern and select whether you want the pattern to match this length exactly, match dialed numbers that are at least this length, or match dialed numbers of any length.</span></span>
    - <span data-ttu-id="4e87a-126">**Dígitos a serem**removidos: (opcional) especifique o número de dígitos iniciais a serem removidos dos números discados aos quais você deseja que o padrão corresponda.</span><span class="sxs-lookup"><span data-stu-id="4e87a-126">**Digits to remove**:   (Optional) Specify the number of starting digits to be removed from dialed numbers you want the pattern to match.</span></span>
    - <span data-ttu-id="4e87a-127">**Dígitos a serem**adicionados: (opcional) especifique os dígitos a serem adicionados aos números discados que você deseja que o padrão corresponda.</span><span class="sxs-lookup"><span data-stu-id="4e87a-127">**Digits to add**:   (Optional) Specify digits to be added to dialed numbers you want the pattern to match.</span></span>
    
    <span data-ttu-id="4e87a-128">Os valores inseridos nesses campos são refletidos em **Padrão a ser correspondido** e **Regra de conversão**.</span><span class="sxs-lookup"><span data-stu-id="4e87a-128">The values you enter in these fields are reflected in **Pattern to match** and **Translation rule**.</span></span> <span data-ttu-id="4e87a-129">Por exemplo, se você deixar os **dígitos iniciais** vazios, digite **7** no campo **comprimento** selecione **exatamente**e especifique **0** em **dígitos a serem removidos**, a expressão regular resultante no **padrão a ser correspondido** é:</span><span class="sxs-lookup"><span data-stu-id="4e87a-129">For example, if you leave **Starting digits** empty, type **7** into the **Length** field select **Exactly**, and specify **0** in **Digits to remove**, the resulting regular expression in the **Pattern to match** is:</span></span>

    <span data-ttu-id="4e87a-130">**^ (\d{7}) $**</span><span class="sxs-lookup"><span data-stu-id="4e87a-130">**^(\d{7})$**</span></span>

7. <span data-ttu-id="4e87a-131">Em **Regra de conversão**, especifique um padrão para o formato de números de telefone E.164 convertido da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="4e87a-131">In **Translation rule**, specify a pattern for the format of translated E.164 phone numbers as follows:</span></span>
    - <span data-ttu-id="4e87a-132">Um valor que representa o número de dígitos especificado no padrão de correspondência.</span><span class="sxs-lookup"><span data-stu-id="4e87a-132">A value that represents the number of digits specified in the matching pattern.</span></span> <span data-ttu-id="4e87a-133">Por exemplo, se o padrão de correspondência for **^ ({7}\d) $**, então $1 na regra de conversão representarão números discados de sete dígitos.</span><span class="sxs-lookup"><span data-stu-id="4e87a-133">For example, if the matching pattern is **^(\d{7})$**, then $1 in the translation rule represents 7-digit dialed numbers.</span></span>
    - <span data-ttu-id="4e87a-134">(Opcional) Digite um valor no campo **Dígitos a adicionar** para especificar os dígitos a serem anexados ao número convertido, (por exemplo **+1425**).</span><span class="sxs-lookup"><span data-stu-id="4e87a-134">(Optional) Type a value into the **Digits to add** field to specify digits to be prepended to the translated number (for example, **+1425**).</span></span>
    
    <span data-ttu-id="4e87a-135">Por exemplo, se o **padrão a ser correspondido** contiver **^ (\d{7}) $** como o padrão para números discados e a regra de **conversão** contém **+ 1425 $1** como o padrão para números de telefone e. 164, a regra normaliza 5550100 para + 14255550100.</span><span class="sxs-lookup"><span data-stu-id="4e87a-135">For example, if **Pattern to match** contains **^(\d{7})$** as the pattern for dialed numbers and **Translation rule** contains **+1425$1** as the pattern for E.164 phone numbers, the rule normalizes 5550100 to +14255550100.</span></span>

8. <span data-ttu-id="4e87a-136">(Opcional) Se a regra de normalização resultar em um número de telefone interno em sua organização, selecione **Extensão interna**.</span><span class="sxs-lookup"><span data-stu-id="4e87a-136">(Optional) If the normalization rule results in a phone number that is internal to your organization, select **Internal extension**.</span></span>
9. <span data-ttu-id="4e87a-p108">(Opcional) Insira um número para testar a regra de normalização e clique em **Ir**. Os resultados do teste são exibidos em **Inserir um número para testar**.</span><span class="sxs-lookup"><span data-stu-id="4e87a-p108">(Optional) Enter a number to test the normalization rule, and then click **Go**. The test results are displayed under **Enter a number to test**.</span></span>
    > [!Note] 
    > <span data-ttu-id="4e87a-139">É possível salvar uma regra de normalização que ainda não passou no teste e reconfigurá-la posteriormente.</span><span class="sxs-lookup"><span data-stu-id="4e87a-139">You can save a normalization rule that does not yet pass the test and then reconfigure it later.</span></span> <span data-ttu-id="4e87a-140">Para obter detalhes, consulte [Test Voice Routing](https://technet.microsoft.com/library/gg398915(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="4e87a-140">For details, see [Test voice routing](https://technet.microsoft.com/library/gg398915(v=ocs.15).aspx).</span></span> 

10. <span data-ttu-id="4e87a-141">Clique em **OK** para salvar a regra de normalização.</span><span class="sxs-lookup"><span data-stu-id="4e87a-141">Click **OK** to save the normalization rule.</span></span>
11. <span data-ttu-id="4e87a-142">Clique em **OK** para salvar o plano de discagem.</span><span class="sxs-lookup"><span data-stu-id="4e87a-142">Click **OK** to save the dial plan.</span></span>
12. <span data-ttu-id="4e87a-143">Na página **Plano de Discagem**, clique em **Confirmar** e clique em **Confirmar tudo**.</span><span class="sxs-lookup"><span data-stu-id="4e87a-143">On the **Dial Plan** page, click **Commit**, and then click **Commit all**.</span></span> 
    > [!Note]
    > <span data-ttu-id="4e87a-144">Sempre que criar ou alterar uma regra de normalização, você deve executar o comando Confirmar todos para publicar a alteração na configuração.</span><span class="sxs-lookup"><span data-stu-id="4e87a-144">Whenever you create or change a normalization rule, you must run the Commit all command to publish the configuration change.</span></span> <span data-ttu-id="4e87a-145">Para obter detalhes, consulte [Publish Pending Changes to The Voice Routing Configuration](https://technet.microsoft.com/library/gg413088(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="4e87a-145">For details, see [Publish pending changes to the voice routing configuration](https://technet.microsoft.com/library/gg413088(v=ocs.15).aspx).</span></span> 

## <a name="create-or-modify-a-normalization-rule-manually"></a><span data-ttu-id="4e87a-146">Criar ou modificar uma regra de normalização manualmente</span><span class="sxs-lookup"><span data-stu-id="4e87a-146">Create or modify a normalization rule manually</span></span>

<span data-ttu-id="4e87a-147">Conclua as etapas a seguir para criar ou modificar uma regra de normalização manualmente.</span><span class="sxs-lookup"><span data-stu-id="4e87a-147">Complete the following steps if you want to create or modify a normalization rule manually.</span></span>

<span data-ttu-id="4e87a-148">**Para definir uma regra de normalização manualmente**</span><span class="sxs-lookup"><span data-stu-id="4e87a-148">**To define a normalization rule manually**</span></span>

1. <span data-ttu-id="4e87a-149">Faça logon no computador como um membro do grupo RTCUniversalServerAdmins ou como membro da função CsVoiceAdministrator, CsServerAdministrator ou CsAdministrator.</span><span class="sxs-lookup"><span data-stu-id="4e87a-149">Log on to the computer as a member of the RTCUniversalServerAdmins group, or as a member of the CsVoiceAdministrator, CsServerAdministrator, or CsAdministrator role.</span></span> <span data-ttu-id="4e87a-150">Para obter detalhes, consulte [delegar permissões de configuração](https://technet.microsoft.com/library/gg412735(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="4e87a-150">For details, see [Delegate setup permissions](https://technet.microsoft.com/library/gg412735(v=ocs.15).aspx).</span></span>
2. <span data-ttu-id="4e87a-151">Abra uma janela do navegador e insira a URL do administrador para abrir o painel de controle.</span><span class="sxs-lookup"><span data-stu-id="4e87a-151">Open a browser window, and then enter the Admin URL to open the Control Panel.</span></span> <span data-ttu-id="4e87a-152">Para obter detalhes sobre os diferentes métodos que você pode usar para iniciar o painel de controle do Skype for Business, consulte [instalar e abrir ferramentas administrativas](../../management-tools/install-and-open-administrative-tools.md).</span><span class="sxs-lookup"><span data-stu-id="4e87a-152">For details about the different methods you can use to start the Skype for Business Control Panel, see [Install and open administrative tools](../../management-tools/install-and-open-administrative-tools.md).</span></span>
3. <span data-ttu-id="4e87a-153">Opcion Siga as etapas em [criar um plano de discagem](GET LINK AFTER MIGRATION) até a etapa 11 ou [modificar um plano de discagem](GET LINK AFTER MIGRATION) até a etapa 10.</span><span class="sxs-lookup"><span data-stu-id="4e87a-153">(Optional) Follow the steps in [Create a dial plan](GET LINK AFTER MIGRATION) through step 11 or [Modify a dial plan](GET LINK AFTER MIGRATION) through step 10.</span></span>  
4. <span data-ttu-id="4e87a-154">Em **Nova regra de normalização** ou **Editar regra de normalização**, digite um nome que descreve o padrão de número que está sendo normalizado em **Nome** (por exemplo, o nome da regra de normalização **5DigitExtension**).</span><span class="sxs-lookup"><span data-stu-id="4e87a-154">In **New Normalization Rule** or **Edit Normalization Rule**, type a name that describes the number pattern being normalized in **Name** (for example, name the normalization rule **5DigitExtension**).</span></span>
5. <span data-ttu-id="4e87a-155">(Opcional) Em **Descrição**, digite uma descrição da regra de normalização (por exemplo, "Converte extensões de cinco dígitos").</span><span class="sxs-lookup"><span data-stu-id="4e87a-155">(Optional) In **Description**, type a description of the normalization rule (for example, "Translates 5-digit extensions").</span></span>
6. <span data-ttu-id="4e87a-156">Em **Criar uma regra de normalização**, clique em **Editar**.</span><span class="sxs-lookup"><span data-stu-id="4e87a-156">In **Build a Normalization Rule**, click **Edit**.</span></span>
7. <span data-ttu-id="4e87a-157">Digite o seguinte em Digitar uma expressão regular:</span><span class="sxs-lookup"><span data-stu-id="4e87a-157">Enter the following in Type a Regular Expression:</span></span>
    - <span data-ttu-id="4e87a-158">Em **Corresponder este padrão**, especifique o padrão que você deseja usar para coincidir com o número de telefone discado.</span><span class="sxs-lookup"><span data-stu-id="4e87a-158">In **Match this pattern**, specify the pattern that you want to use to match the dialed phone number.</span></span>
    - <span data-ttu-id="4e87a-159">Em **Regra de tradução**, especifique um padrão para o formato dos números de telefone E.164 traduzidos.</span><span class="sxs-lookup"><span data-stu-id="4e87a-159">In **Translation rule**, specify a pattern for the format of translated E.164 phone numbers.</span></span>

    <span data-ttu-id="4e87a-160">Por exemplo, se você inserir **^ (\d{7}) $** em **corresponder a este padrão** e **+ 1425 $1** em **regra de conversão**, a regra normaliza 5550100 para + 14255550100.</span><span class="sxs-lookup"><span data-stu-id="4e87a-160">For example, if you enter **^(\d{7})$** in **Match this pattern** and **+1425$1** in **Translation rule**, the rule normalizes 5550100 to +14255550100.</span></span>

8. <span data-ttu-id="4e87a-161">(Opcional) Se a regra de normalização resultar em um número de telefone interno em sua organização, selecione **Extensão interna**.</span><span class="sxs-lookup"><span data-stu-id="4e87a-161">(Optional) If the normalization rule results in a phone number that is internal to your organization, select **Internal extension**.</span></span>
9. <span data-ttu-id="4e87a-p113">(Opcional) Insira um número para testar a regra de normalização e clique em **Ir**. Os resultados do teste são exibidos em **Inserir um número para testar**.</span><span class="sxs-lookup"><span data-stu-id="4e87a-p113">(Optional) Enter a number to test the normalization rule, and then click **Go**. The test results are displayed under **Enter a number to test**.</span></span>

    > [!Note]
    > <span data-ttu-id="4e87a-164">É possível salvar uma regra de normalização que ainda não passou no teste e reconfigurá-la posteriormente.</span><span class="sxs-lookup"><span data-stu-id="4e87a-164">You can save a normalization rule that does not yet pass the test and then reconfigure it later.</span></span> <span data-ttu-id="4e87a-165">Para obter detalhes, consulte [Test Voice Routing](https://technet.microsoft.com/library/gg398915(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="4e87a-165">For details, see [Test voice routing](https://technet.microsoft.com/library/gg398915(v=ocs.15).aspx).</span></span> 

10. <span data-ttu-id="4e87a-166">Clique em **OK** para salvar a regra de normalização.</span><span class="sxs-lookup"><span data-stu-id="4e87a-166">Click **OK** to save the normalization rule.</span></span>
11. <span data-ttu-id="4e87a-167">Clique em **OK** para salvar o plano de discagem.</span><span class="sxs-lookup"><span data-stu-id="4e87a-167">Click **OK** to save the dial plan.</span></span>
12. <span data-ttu-id="4e87a-168">Na página **plano de discagem** , clique em **commi**t e em **confirmar tudo**.</span><span class="sxs-lookup"><span data-stu-id="4e87a-168">On the **Dial Plan** page, click **Commi**t, and then click **Commit all**.</span></span> 
