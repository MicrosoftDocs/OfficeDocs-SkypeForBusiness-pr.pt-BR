---
title: Requisitos do sistema do Servidor de Borda no Skype for Business Server
ms.reviewer: ''
ms.author: v-cichur
author: cichur
audience: ITPro
ms.topic: conceptual
manager: serdars
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection:
- IT_Skype16
- Strat_SB_Hybrid
ms.custom: ''
ms.assetid: ed53a566-0504-46f9-81a7-116a637833af
description: 'Resumo: saiba mais sobre os requisitos do sistema para o Servidor de Borda no Skype for Business Server.'
ms.openlocfilehash: d5003a265a53c3603892133077a961f54c974401
ms.sourcegitcommit: 01087be29daa3abce7d3b03a55ba5ef8db4ca161
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/23/2021
ms.locfileid: "51112737"
---
# <a name="edge-server-system-requirements-in-skype-for-business-server"></a><span data-ttu-id="d30c1-103">Requisitos do sistema do Servidor de Borda no Skype for Business Server</span><span class="sxs-lookup"><span data-stu-id="d30c1-103">Edge Server system requirements in Skype for Business Server</span></span>
 
<span data-ttu-id="d30c1-104">**Resumo:** Saiba mais sobre os requisitos do sistema para o Servidor de Borda no Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="d30c1-104">**Summary:** Learn about the system requirements for Edge Server in Skype for Business Server.</span></span>
  
<span data-ttu-id="d30c1-105">Quando se trata de sua implantação do Servidor de Borda do Skype for Business Server, essas são as coisas que você precisará fazer para o servidor ou servidores que estão no próprio ambiente, bem como para planejar a estrutura do ambiente.</span><span class="sxs-lookup"><span data-stu-id="d30c1-105">When it comes to your Skype for Business Server Edge Server deployment, these are the things you'll need to do for the server or servers that are in the environment itself, as well as planning for the environment structure.</span></span> <span data-ttu-id="d30c1-106">Para obter mais informações sobre topologia, DNS, certificados e outras preocupações de infraestrutura, confira a documentação de requisitos ambientais.</span><span class="sxs-lookup"><span data-stu-id="d30c1-106">For more information on topology, DNS, certificates, and other infrastructure concerns, check out the environmental requirements documentation.</span></span>
  
## <a name="components"></a><span data-ttu-id="d30c1-107">Componentes</span><span class="sxs-lookup"><span data-stu-id="d30c1-107">Components</span></span>

<span data-ttu-id="d30c1-108">Ao discutir o ambiente do Servidor de Borda, estamos fazendo referência a componentes que, na maioria das vezes, são implantados em uma rede de perímetro (ou seja, está em um grupo de trabalho ou em um domínio que está fora da estrutura de domínio do Skype for Business Server).</span><span class="sxs-lookup"><span data-stu-id="d30c1-108">When discussing the Edge Server environment, we're referencing components that are, for the most part, deployed in a perimeter network (that's to say it's either in a workgroup or a domain that's outside your Skype for Business Server domain structure).</span></span>
  
<span data-ttu-id="d30c1-109">Tendo isso em mente, esses são os componentes que você precisará ter em mente para implantar seu Edge com êxito:</span><span class="sxs-lookup"><span data-stu-id="d30c1-109">Keeping that in mind, these are the components you're going to need to keep in mind for deploying your Edge successfully:</span></span>
  
- [<span data-ttu-id="d30c1-110">Servidores de Borda</span><span class="sxs-lookup"><span data-stu-id="d30c1-110">Edge Servers</span></span>](system-requirements.md#EdgeServers)
    
- [<span data-ttu-id="d30c1-111">Proxies reversos</span><span class="sxs-lookup"><span data-stu-id="d30c1-111">Reverse proxies</span></span>](system-requirements.md#ReverseProxies)
    
- [<span data-ttu-id="d30c1-112">Firewalls</span><span class="sxs-lookup"><span data-stu-id="d30c1-112">Firewalls</span></span>](system-requirements.md#Firewalls)
    
- <span data-ttu-id="d30c1-113">[Diretores](system-requirements.md#Directors) (eles são opcionais e, se eles estão incluídos, eles estarão localizados em sua rede interna)</span><span class="sxs-lookup"><span data-stu-id="d30c1-113">[Directors](system-requirements.md#Directors) (these are optional, and if they're included, they'll be located on your internal network)</span></span>
    
- <span data-ttu-id="d30c1-114">[Balanceadores de](system-requirements.md#LoadBalancers) carga (você pode ter balanceamento de carga DNS ou um balanceador de carga de hardware (HLB), mas para um único Servidor de Borda, isso não é necessário)</span><span class="sxs-lookup"><span data-stu-id="d30c1-114">[Load Balancers](system-requirements.md#LoadBalancers) (you can have DNS load balancing or a hardware load balancer (HLB), but for a single Edge Server, this isn't needed)</span></span>
    
<span data-ttu-id="d30c1-115">Temos mais detalhes sobre cada um deles abaixo:</span><span class="sxs-lookup"><span data-stu-id="d30c1-115">We have more detail on each of these below:</span></span>
  
### <a name="edge-servers"></a><span data-ttu-id="d30c1-116">Servidores de Borda</span><span class="sxs-lookup"><span data-stu-id="d30c1-116">Edge Servers</span></span>
<span data-ttu-id="d30c1-117"><a name="EdgeServers"> </a></span><span class="sxs-lookup"><span data-stu-id="d30c1-117"><a name="EdgeServers"> </a></span></span>

<span data-ttu-id="d30c1-118">Esses são os servidores do Skype for Business implantados em seu ambiente de perímetro.</span><span class="sxs-lookup"><span data-stu-id="d30c1-118">These are the Skype for Business servers deployed in your perimeter environment.</span></span> <span data-ttu-id="d30c1-119">Sua função é enviar e receber tráfego de rede para usuários externos para os serviços oferecidos pela implantação interna do Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="d30c1-119">Their role is to send and receive network traffic to external users for the services offered by your internal Skype for Business Server deployment.</span></span> <span data-ttu-id="d30c1-120">Para fazer isso com êxito, cada Servidor de Borda é executado:</span><span class="sxs-lookup"><span data-stu-id="d30c1-120">To do this successfully, each Edge Server runs:</span></span>
  
- <span data-ttu-id="d30c1-121">**Serviço de Borda de** Acesso : fornece um único ponto de conexão confiável para tráfego SIP (Protocolo de Iniciação de Sessão de saída e de entrada).</span><span class="sxs-lookup"><span data-stu-id="d30c1-121">**Access Edge service**: Provides a single, trusted connection point for both outbound and inbound Session Initiation Protocol (SIP) traffic.</span></span>
    
- <span data-ttu-id="d30c1-122">**Serviço de Borda de WebConferência**: permite que usuários externos participem de reuniões hospedadas em seu ambiente interno do Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="d30c1-122">**Web Conferencing Edge service**: Enables external users to join meetings that are hosted on your internal Skype for Business Server environment.</span></span>
    
- <span data-ttu-id="d30c1-123">**Serviço de Borda A/V:** disponibiliza áudio, vídeo, compartilhamento de aplicativos e transferência de arquivos para usuários externos.</span><span class="sxs-lookup"><span data-stu-id="d30c1-123">**A/V Edge service**: Makes audio, video, application sharing and file transfer available to external users.</span></span>
    
- <span data-ttu-id="d30c1-124">**Serviço proxy XMPP**: aceita e envia mensagens extensíveis e mensagens de protocolo de presença (XMPP) para e de parceiros federados XMPP configurados.</span><span class="sxs-lookup"><span data-stu-id="d30c1-124">**XMPP Proxy service**: Accepts and sends extensible messaging and presence protocol (XMPP) messages to and from configured XMPP Federated partners.</span></span>
    
<span data-ttu-id="d30c1-125">Os usuários externos autorizados podem usar seus Servidores de Borda para se conectar à implantação interna do Skype for Business Server, mas, caso contrário, eles não fornecem outro acesso à sua rede interna para qualquer pessoa.</span><span class="sxs-lookup"><span data-stu-id="d30c1-125">Authorized external users can use your Edge Servers to connect to your internal Skype for Business Server deployment, but otherwise, they provide no other access to your internal network for anyone.</span></span>
  
> [!NOTE]
> <span data-ttu-id="d30c1-126">Os Servidores de Borda são implantados para fornecer conexões para clientes do Skype for Business habilitados e outros Servidores de Borda (em cenários de federação).</span><span class="sxs-lookup"><span data-stu-id="d30c1-126">Edge Servers are deployed to provide connections for enabled Skype for Business clients and other Edge Servers (in federation scenarios).</span></span> <span data-ttu-id="d30c1-127">Você não pode se conectar a partir de outros tipos de cliente ou servidor de ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="d30c1-127">You can't connect from other end point client or server types.</span></span> <span data-ttu-id="d30c1-128">O servidor gateway XMPP pode permitir conexões com parceiros XMPP configurados.</span><span class="sxs-lookup"><span data-stu-id="d30c1-128">The XMPP Gateway server can allow connections with configured XMPP partners.</span></span> <span data-ttu-id="d30c1-129">Mas, novamente, esses são os únicos tipos de cliente e federação que funcionarão.</span><span class="sxs-lookup"><span data-stu-id="d30c1-129">But again, those are the only client and federation types that will work.</span></span> 

> [!NOTE]
> <span data-ttu-id="d30c1-130">Gateways XMPP e proxies estão disponíveis no Skype for Business Server 2015, mas não são mais suportados no Skype for Business Server 2019.</span><span class="sxs-lookup"><span data-stu-id="d30c1-130">XMPP Gateways and proxies are available in Skype for Business Server 2015 but are no longer supported in Skype for Business Server 2019.</span></span> <span data-ttu-id="d30c1-131">Consulte [Migrando federação XMPP](../../../SfBServer2019/migration/migrating-xmpp-federation.md) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="d30c1-131">See [Migrating XMPP federation](../../../SfBServer2019/migration/migrating-xmpp-federation.md) for more information.</span></span>
  
### <a name="reverse-proxies"></a><span data-ttu-id="d30c1-132">Proxies reversos</span><span class="sxs-lookup"><span data-stu-id="d30c1-132">Reverse proxies</span></span>
<span data-ttu-id="d30c1-133"><a name="ReverseProxies"> </a></span><span class="sxs-lookup"><span data-stu-id="d30c1-133"><a name="ReverseProxies"> </a></span></span>

<span data-ttu-id="d30c1-134">Um servidor de proxy reverso (RP) não tem função do Skype for Business Server, mas é um componente essencial de uma implantação do Servidor de Borda.</span><span class="sxs-lookup"><span data-stu-id="d30c1-134">A reverse proxy (RP) server has no Skype for Business Server role, but is an essential component of an Edge Server deployment.</span></span> <span data-ttu-id="d30c1-135">Um proxy reverso permite que os usuários externos:</span><span class="sxs-lookup"><span data-stu-id="d30c1-135">A reverse proxy allows external users to:</span></span>
  
- <span data-ttu-id="d30c1-136">conecte-se a reuniões ou conferências discdas usando URLs simples.</span><span class="sxs-lookup"><span data-stu-id="d30c1-136">connect to meetings or dial-in conferences using simple URLs.</span></span>
    
- <span data-ttu-id="d30c1-137">baixar conteúdo de reunião.</span><span class="sxs-lookup"><span data-stu-id="d30c1-137">download meeting content.</span></span>
    
- <span data-ttu-id="d30c1-138">expanda grupos de distribuição.</span><span class="sxs-lookup"><span data-stu-id="d30c1-138">expand distribution groups.</span></span>
    
- <span data-ttu-id="d30c1-139">obter certificados baseados no usuário para autenticação baseada em certificado de cliente</span><span class="sxs-lookup"><span data-stu-id="d30c1-139">get user-based certificates for client certificate based authentication</span></span>
    
- <span data-ttu-id="d30c1-140">baixar arquivos do Servidor do Livro de Endereços ou enviar consultas para o serviço de Consulta Da Web do Livro de Endereços.</span><span class="sxs-lookup"><span data-stu-id="d30c1-140">download files from the Address Book Server, or to submit queries to the Address Book Web Query service.</span></span>
    
- <span data-ttu-id="d30c1-141">obter atualizações para software de cliente e dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d30c1-141">obtain updates to client and device software.</span></span>
    
<span data-ttu-id="d30c1-142">E para dispositivos móveis:</span><span class="sxs-lookup"><span data-stu-id="d30c1-142">And for mobile devices:</span></span>
  
- <span data-ttu-id="d30c1-143">ele permite que eles descubram automaticamente Servidores Front-End que oferecem serviços de mobilidade.</span><span class="sxs-lookup"><span data-stu-id="d30c1-143">it lets them automatically discover Front End Servers offering mobility services.</span></span>
    
- <span data-ttu-id="d30c1-144">ele habilita notificações por push do Microsoft 365 ou Office 365 para dispositivos móveis.</span><span class="sxs-lookup"><span data-stu-id="d30c1-144">it enables push notifications from Microsoft 365 or Office 365 to mobile devices.</span></span>
    
<span data-ttu-id="d30c1-145">Nossas recomendações de proxy reverso atuais podem ser encontradas na página Infraestrutura de Telefonia [para Skype for Business.](../../../SfbPartnerCertification/certification/infra-gateways.md)</span><span class="sxs-lookup"><span data-stu-id="d30c1-145">Our current reverse proxy recommendations can be found on the [Telephony Infrastructure for Skype for Business](../../../SfbPartnerCertification/certification/infra-gateways.md) page.</span></span> <span data-ttu-id="d30c1-146">Portanto, seu proxy reverso:</span><span class="sxs-lookup"><span data-stu-id="d30c1-146">So your reverse proxy:</span></span>
  
- <span data-ttu-id="d30c1-147">deve ser capaz de usar o TLS (transport layer security) introduzido no seu ambiente por meio de certificados públicos para se conectar aos serviços Web externos publicados de:</span><span class="sxs-lookup"><span data-stu-id="d30c1-147">should be able to use transport layer security (TLS) that's introduced to your environment via public certificates to connect to the published external Web services of:</span></span>
    
  - <span data-ttu-id="d30c1-148">Pool de diretores ou diretores</span><span class="sxs-lookup"><span data-stu-id="d30c1-148">Director or Director pool</span></span>
    
  - <span data-ttu-id="d30c1-149">Servidor front-end ou pool de front-end</span><span class="sxs-lookup"><span data-stu-id="d30c1-149">Front End Server or Front End pool</span></span>
    
- <span data-ttu-id="d30c1-150">precisa ser capaz de publicar sites internos usando certificados para criptografia ou publicá-los por meios não criptografados, se necessário.</span><span class="sxs-lookup"><span data-stu-id="d30c1-150">needs to be able to publish internal Web sites using certificates for encryption, or publish them over an unencrypted means, if needed.</span></span>
    
- <span data-ttu-id="d30c1-151">deve ser capaz de publicar um site hospedado internamente externamente usando um FQDN (nome de domínio totalmente qualificado).</span><span class="sxs-lookup"><span data-stu-id="d30c1-151">should be able to publish an internally hosted web site externally by using a fully qualified domain name (FQDN).</span></span>
    
- <span data-ttu-id="d30c1-152">precisa ser capaz de publicar todo o conteúdo do seu site hospedado.</span><span class="sxs-lookup"><span data-stu-id="d30c1-152">needs to be able to publish all the contents of your hosted web site.</span></span> <span data-ttu-id="d30c1-153">Por padrão, você pode usar a diretiva _, que é reconhecida pela maioria dos servidores Web para significar "Publicar todo o conteúdo **/\\** no servidor Web".</span><span class="sxs-lookup"><span data-stu-id="d30c1-153">By default, you can use the **/\\** _ directive, which is recognized by most web servers to mean "Publish all content on the web server."</span></span> <span data-ttu-id="d30c1-154">Você também pode modificar a diretiva, por exemplo, _\*/Uwca/ \*\*\*, que significa "Publicar todo o conteúdo no diretório \\ virtual Ucwa".</span><span class="sxs-lookup"><span data-stu-id="d30c1-154">You can also modify the directive—for example, _\*/Uwca/\\*\*\*, which means "Publish all content under the virtual directory Ucwa."</span></span>
    
- <span data-ttu-id="d30c1-155">deve exigir conexões TLS com clientes que solicitam conteúdo de seu site publicado.</span><span class="sxs-lookup"><span data-stu-id="d30c1-155">must require TLS connections with clients that request content from your published website.</span></span>
    
- <span data-ttu-id="d30c1-156">tem que aceitar certificados com entradas de nome alternativo de assunto (SAN).</span><span class="sxs-lookup"><span data-stu-id="d30c1-156">has to accept certificates with subject alternative name (SAN) entries.</span></span>
    
- <span data-ttu-id="d30c1-157">precisa ser capaz de permitir a associação de um certificado a um ouvinte ou interface através da qual o FQDN de serviços Web externos resolverá.</span><span class="sxs-lookup"><span data-stu-id="d30c1-157">needs to be able to allow the binding of a certificate to a listener or interface through which the external web services FQDN will resolve.</span></span> <span data-ttu-id="d30c1-158">As configurações do ouvinte são preferíveis às interfaces.</span><span class="sxs-lookup"><span data-stu-id="d30c1-158">Listener configurations are preferable to interfaces.</span></span> <span data-ttu-id="d30c1-159">Muitos ouvintes podem ser configurados em uma única interface.</span><span class="sxs-lookup"><span data-stu-id="d30c1-159">Many listeners can be configured on a single interface.</span></span>
    
- <span data-ttu-id="d30c1-160">deve permitir a configuração da manipulação do header do host.</span><span class="sxs-lookup"><span data-stu-id="d30c1-160">must allow for the configuration of host header handling.</span></span> <span data-ttu-id="d30c1-161">Muitas vezes, o header de host original enviado pelo cliente solicitante deve ser passado de forma transparente, em vez de ser modificado pelo proxy reverso.</span><span class="sxs-lookup"><span data-stu-id="d30c1-161">Often, the original host header sent by the requesting client must be passed transparently, instead of being modified by the reverse proxy.</span></span>
    
- <span data-ttu-id="d30c1-162">deve permitir a ponte do tráfego TLS de uma porta definida externamente (por exemplo, TCP 443) para outra porta definida (por exemplo, TCP 4443).</span><span class="sxs-lookup"><span data-stu-id="d30c1-162">should allow bridging of TLS traffic from one externally defined port (for example, TCP 443) to another defined port (for example, TCP 4443).</span></span> <span data-ttu-id="d30c1-163">Seu proxy reverso pode descriptografar o pacote no recebimento e, em seguida, criptografar o pacote ao enviar.</span><span class="sxs-lookup"><span data-stu-id="d30c1-163">Your reverse proxy may decrypt the packet on receipt and then reencrypt the packet on sending.</span></span>
    
- <span data-ttu-id="d30c1-164">deve permitir a ponte de tráfego TCP não criptografado de uma porta (por exemplo, TCP 80) para outra (por exemplo, TCP 8080).</span><span class="sxs-lookup"><span data-stu-id="d30c1-164">should allow bridging of unencrypted TCP traffic from one port (for example, TCP 80) to another (for example, TCP 8080).</span></span>
    
- <span data-ttu-id="d30c1-165">precisa permitir a configuração ou aceitar a autenticação NTLM, nenhuma autenticação e autenticação de passagem.</span><span class="sxs-lookup"><span data-stu-id="d30c1-165">needs to allow configuration of, or accept, NTLM authentication, no authentication, and pass-through authentication.</span></span>
    
<span data-ttu-id="d30c1-166">Se o proxy reverso puder atender a todas as necessidades desta lista, você deve estar bem para ir, mas lembre-se de nossas recomendações no link fornecido acima.</span><span class="sxs-lookup"><span data-stu-id="d30c1-166">If your reverse proxy can address all the needs in this list, you should be good to go, but please keep in mind our recommendations at the link provided above.</span></span>
  
### <a name="firewalls"></a><span data-ttu-id="d30c1-167">Firewalls</span><span class="sxs-lookup"><span data-stu-id="d30c1-167">Firewalls</span></span>
<span data-ttu-id="d30c1-168"><a name="Firewalls"> </a></span><span class="sxs-lookup"><span data-stu-id="d30c1-168"><a name="Firewalls"> </a></span></span>

<span data-ttu-id="d30c1-169">Você precisa colocar sua implantação de Borda atrás de um firewall externo, mas recomendamos ter dois firewalls, um externo e um interno entre o ambiente de Borda e seu ambiente interno.</span><span class="sxs-lookup"><span data-stu-id="d30c1-169">You need to put your Edge deployment behind an external firewall, but we recommend having two firewalls, one external, and one internal between the Edge environment and your internal environment.</span></span> <span data-ttu-id="d30c1-170">Toda a nossa documentação em nossos Cenários terá dois firewalls.</span><span class="sxs-lookup"><span data-stu-id="d30c1-170">All our documentation in our Scenarios will have two firewalls.</span></span> <span data-ttu-id="d30c1-171">Recomendamos dois firewalls porque ele garante o roteamento estrito de uma borda de rede para a outra e dobra a proteção de firewall para sua rede interna.</span><span class="sxs-lookup"><span data-stu-id="d30c1-171">We recommend two firewalls because it ensures strict routing from one network edge to the other, and doubles the firewall protection for your internal network.</span></span>
  
### <a name="directors"></a><span data-ttu-id="d30c1-172">Diretores</span><span class="sxs-lookup"><span data-stu-id="d30c1-172">Directors</span></span>
<span data-ttu-id="d30c1-173"><a name="Directors"> </a></span><span class="sxs-lookup"><span data-stu-id="d30c1-173"><a name="Directors"> </a></span></span>

<span data-ttu-id="d30c1-174">Esta é uma função opcional.</span><span class="sxs-lookup"><span data-stu-id="d30c1-174">This is an optional role.</span></span> <span data-ttu-id="d30c1-175">Pode ser um único servidor ou um pool de servidores executando a função Diretor.</span><span class="sxs-lookup"><span data-stu-id="d30c1-175">It can be a single server or a pool of servers running the Director role.</span></span> <span data-ttu-id="d30c1-176">É uma função encontrada no ambiente interno do Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="d30c1-176">It's a role found on the internal Skype for Business Server environment.</span></span>
  
<span data-ttu-id="d30c1-177">O Diretor é um servidor interno de próximo salto que recebe tráfego SIP de entrada dos Servidores de Borda destinados aos servidores internos do Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="d30c1-177">The Director is an internal next hop server which receives inbound SIP traffic from the Edge Servers that's destined for Skype for Business Server internal servers.</span></span> <span data-ttu-id="d30c1-178">Ele pré-autentica solicitações de entrada e redireciona-as para o pool ou servidor de um usuário.</span><span class="sxs-lookup"><span data-stu-id="d30c1-178">It preauthenticates inbound requests and redirects them to a user's home pool or server.</span></span> <span data-ttu-id="d30c1-179">Essa pré-autenticação permite que você solte solicitações de conta de usuário não identificadas.</span><span class="sxs-lookup"><span data-stu-id="d30c1-179">This preauthentication allows you to drop unidentified user account requests.</span></span>
  
<span data-ttu-id="d30c1-180">Por que isso importa?</span><span class="sxs-lookup"><span data-stu-id="d30c1-180">Why does that matter?</span></span> <span data-ttu-id="d30c1-181">Uma função importante para um Diretor é proteger servidores Standard Edition e Servidores Front-End ou pools de Front-End contra tráfego mal-intencionado, como ataques de negação de serviço (DoS).</span><span class="sxs-lookup"><span data-stu-id="d30c1-181">An important function for a Director is to protect Standard Edition servers and Front End Servers or Front End pools from malicious traffic, such as denial-of-service (DoS) attacks.</span></span> <span data-ttu-id="d30c1-182">Se sua rede estiver inundada com tráfego externo inválido, o tráfego será interrompido no Diretor.</span><span class="sxs-lookup"><span data-stu-id="d30c1-182">If your network is flooded with invalid external traffic, the traffic stops at the Director.</span></span>
  
### <a name="load-balancers"></a><span data-ttu-id="d30c1-183">Balanceadores de Carga</span><span class="sxs-lookup"><span data-stu-id="d30c1-183">Load Balancers</span></span>
<span data-ttu-id="d30c1-184"><a name="LoadBalancers"> </a></span><span class="sxs-lookup"><span data-stu-id="d30c1-184"><a name="LoadBalancers"> </a></span></span>

<span data-ttu-id="d30c1-185">A topologia de Borda consolidada em escala do Skype for Business Server é otimizada para balanceamento de carga DNS para novas implantações e recomendamos isso.</span><span class="sxs-lookup"><span data-stu-id="d30c1-185">The Skype for Business Server scaled consolidated Edge topology is optimized for DNS load balancing for new deployments, and we recommend this.</span></span> <span data-ttu-id="d30c1-186">Se você precisar de alta disponibilidade, recomendamos usar um balanceador de carga de hardware para uma situação específica:</span><span class="sxs-lookup"><span data-stu-id="d30c1-186">If you need high availability, we recommend using a hardware load balancer for one specific situation:</span></span>
  
- <span data-ttu-id="d30c1-187">UM do Exchange para usuários remotos que usam a UM do Exchange **antes** do Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="d30c1-187">Exchange UM for remote users using Exchange UM **prior** to Exchange 2013.</span></span>
    
> [!IMPORTANT]
> <span data-ttu-id="d30c1-188">É fundamental observar que você não pode misturar balanceadores de carga.</span><span class="sxs-lookup"><span data-stu-id="d30c1-188">It's vital to note that you can't mix load-balancers.</span></span> <span data-ttu-id="d30c1-189">No seu ambiente do Skype for Business Server, todas as interfaces devem usar DNS ou HLB.</span><span class="sxs-lookup"><span data-stu-id="d30c1-189">In your Skype for Business Server environment all interfaces must use either DNS or HLB.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="d30c1-190">O NAT de retorno de servidor direto (DSR) não é suportado para o Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="d30c1-190">Direct server return (DSR) NAT isn't supported for Skype for Business Server.</span></span> 
  
#### <a name="hardware-load-balancer-requirements-for-edge-servers-edge-servers-running-the-av-edge-service"></a><span data-ttu-id="d30c1-191">requisitos de balanceador de carga de hardware para Servidores de Borda de Servidores de Borda executando o serviço de Borda A/V</span><span class="sxs-lookup"><span data-stu-id="d30c1-191">hardware load balancer requirements for Edge Servers Edge Servers running the A/V Edge service</span></span>

<span data-ttu-id="d30c1-192">Para qualquer Servidor de Borda executando o serviço de Borda A/V, estes são os requisitos:</span><span class="sxs-lookup"><span data-stu-id="d30c1-192">For any Edge Server running the A/V Edge service, these are the requirements:</span></span>
  
- <span data-ttu-id="d30c1-193">Desativar a nagling TCP para portas internas e externas 443 (nagling é o processo de combinação de vários pacotes pequenos em um único pacote maior para transmissão mais eficiente).</span><span class="sxs-lookup"><span data-stu-id="d30c1-193">Turn off TCP nagling for both internal and external ports 443 (nagling is the process of combining several small packets into a single, larger packet for more efficient transmission).</span></span>
    
- <span data-ttu-id="d30c1-194">Desativar a nagling TCP para o intervalo de portas externos 50000 - 59999.</span><span class="sxs-lookup"><span data-stu-id="d30c1-194">Turn off TCP nagling for the external port range 50000 - 59999.</span></span>
    
- <span data-ttu-id="d30c1-195">Não use NAT em seus firewalls internos ou externos.</span><span class="sxs-lookup"><span data-stu-id="d30c1-195">Don't use NAT on your internal or external firewalls.</span></span>
    
- <span data-ttu-id="d30c1-196">Sua interface interna de Borda deve estar em uma rede diferente da interface externa do Servidor de Borda, e o roteamento entre eles deve ser desabilitado.</span><span class="sxs-lookup"><span data-stu-id="d30c1-196">Your Edge internal interface must be on a different network than your Edge Server external interface, and routing between them must be disabled.</span></span>
    
- <span data-ttu-id="d30c1-197">A interface externa de qualquer Servidor de Borda que executa o serviço de Borda A/V deve usar endereços IP de tabela publicamente e nenhuma conversão nat ou porta em qualquer um dos endereços IP externos de Borda.</span><span class="sxs-lookup"><span data-stu-id="d30c1-197">The external interface of any Edge Server running the A/V Edge service must use publicly routable IP addresses and no NAT or port translation on any of the Edge external IP addresses.</span></span>
    
#### <a name="hlb-requirements"></a><span data-ttu-id="d30c1-198">Requisitos de HLB</span><span class="sxs-lookup"><span data-stu-id="d30c1-198">HLB requirements</span></span>

<span data-ttu-id="d30c1-199">O Skype for Business Server não tem muitos requisitos de afinidade baseados em cookie.</span><span class="sxs-lookup"><span data-stu-id="d30c1-199">Skype for Business Server doesn't have a lot of cookie-based affinity requirements.</span></span> <span data-ttu-id="d30c1-200">Portanto, você não precisa usar uma persistência baseada em cookie, a menos **que** (e isso seja específico do Skype for Business Server 2015), você terá servidores front-end do Lync Server 2010 ou pools de front-end em seu ambiente do Skype for Business Server.</span><span class="sxs-lookup"><span data-stu-id="d30c1-200">So you don't need to use a cookie-based persistence **unless** (and this is Skype for Business Server 2015-specific) you're going to have Lync Server 2010 Front End Servers or Front End pools in your Skype for Business Server environment.</span></span> <span data-ttu-id="d30c1-201">Eles precisariam de afinidade baseada em cookie no método de configuração recomendado para o Lync Server 2010.</span><span class="sxs-lookup"><span data-stu-id="d30c1-201">They would need cookie-based affinity in the configuration method recommended for Lync Server 2010.</span></span>
  
> [!NOTE]
> <span data-ttu-id="d30c1-202">Se você decidir ativar a afinidade baseada em cookie para o seu HLB, não haverá problema em fazer isso, mesmo que seu ambiente não precise dele.</span><span class="sxs-lookup"><span data-stu-id="d30c1-202">If you decide to turn cookie-based affinity on for your HLB, there won't be a problem doing so, even if your environment doesn't need it.</span></span> 
  
<span data-ttu-id="d30c1-203">Se seu **ambiente não precisar** de afinidade baseada em cookie:</span><span class="sxs-lookup"><span data-stu-id="d30c1-203">If your environment **doesn't** need cookie-based affinity:</span></span>
  
- <span data-ttu-id="d30c1-204">Na regra de publicação de proxy reverso para a porta 443, de definir **Encaminhar o header do host** como **True**.</span><span class="sxs-lookup"><span data-stu-id="d30c1-204">On the reverse proxy publishing rule for port 443, set **Forward host header** to **True**.</span></span> <span data-ttu-id="d30c1-205">Isso garantirá que a URL original seja encaminhada.</span><span class="sxs-lookup"><span data-stu-id="d30c1-205">This will ensure the original URL is forwarded.</span></span>
    
<span data-ttu-id="d30c1-206">Para implantações que **precisam** de afinidade baseada em cookie:</span><span class="sxs-lookup"><span data-stu-id="d30c1-206">For deployments that **do** need cookie-based affinity:</span></span>
  
- <span data-ttu-id="d30c1-207">Na regra de publicação de proxy reverso para a porta 443, de definir **Encaminhar o header do host** como **True**.</span><span class="sxs-lookup"><span data-stu-id="d30c1-207">On the reverse proxy publishing rule for port 443, set **Forward host header** to **True**.</span></span> <span data-ttu-id="d30c1-208">Isso garantirá que a URL original seja encaminhada.</span><span class="sxs-lookup"><span data-stu-id="d30c1-208">This will ensure the original URL is forwarded.</span></span>
    
- <span data-ttu-id="d30c1-209">O cookie do balanceador de carga de hardware **não deve** ser marcado httpOnly.</span><span class="sxs-lookup"><span data-stu-id="d30c1-209">The hardware load balancer cookie **must not** be marked httpOnly.</span></span>
    
- <span data-ttu-id="d30c1-210">O cookie do balanceador de carga de hardware **não deve ter** um tempo de expiração.</span><span class="sxs-lookup"><span data-stu-id="d30c1-210">The hardware load balancer cookie **must not** have an expiration time.</span></span>
    
- <span data-ttu-id="d30c1-211">O cookie do balanceador de carga de **hardware** deve ser chamado **de MS-WSMAN** (esse é o valor esperado pelos serviços Web e não pode ser alterado).</span><span class="sxs-lookup"><span data-stu-id="d30c1-211">The hardware load balancer cookie **must** be named **MS-WSMAN** (this is the value that the Web services expect, and it can't be changed).</span></span>
    
- <span data-ttu-id="d30c1-212">O cookie do balanceador de carga de **hardware** deve ser definido em cada resposta HTTP para a qual a solicitação HTTP de entrada não tinha um cookie, independentemente de uma resposta HTTP anterior nessa mesma conexão TCP ter obtido um cookie.</span><span class="sxs-lookup"><span data-stu-id="d30c1-212">The hardware load balancer cookie **must** be set in every HTTP response for which the incoming HTTP request didn't have a cookie, regardless of whether a previous HTTP response on that same TCP connection had gotten a cookie.</span></span> <span data-ttu-id="d30c1-213">Se o balanceador de carga de hardware otimizar a inserção de cookie para ocorrer apenas uma vez por conexão TCP, essa otimização **não deve** ser usada.</span><span class="sxs-lookup"><span data-stu-id="d30c1-213">If your hardware load balancer optimizes cookie insert to only occur once per TCP connection, that optimization **must not** be used.</span></span>
    
> [!NOTE]
> <span data-ttu-id="d30c1-214">É comum que as configurações HLB usem afinidade de origem e tempo de vida da sessão TCP de 20 minutos, o que é bom para o Skype for Business Server e seus clientes, pois o estado da sessão é mantido por meio do uso do cliente e/ou interação do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d30c1-214">It's typical for HLB configurations to use source-affinity and 20 minute TCP session lifetime, which is fine for Skype for Business Server and its clients, because session state is maintained through client usage, and/or application interaction.</span></span> 
  
<span data-ttu-id="d30c1-215">Se você estiver implantando dispositivos móveis, seu HLB deve ser capaz de balancear solicitações individuais em uma sessão TCP (na verdade, você precisa ser capaz de balancear uma solicitação individual com base no endereço IP de destino).</span><span class="sxs-lookup"><span data-stu-id="d30c1-215">If you're deploying mobile devices, your HLB must be able to load balance individual requests within a TCP session (in effect, you need to be able to load balance an individual request based on the target IP address).</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="d30c1-216">F5 HLBs têm um recurso chamado OneConnect.</span><span class="sxs-lookup"><span data-stu-id="d30c1-216">F5 HLBs have a feature called OneConnect.</span></span> <span data-ttu-id="d30c1-217">Ele garante que cada solicitação dentro de uma conexão TCP seja balanceada individualmente.</span><span class="sxs-lookup"><span data-stu-id="d30c1-217">It ensures that each request within a TCP connection is individually load balanced.</span></span> <span data-ttu-id="d30c1-218">Se você estiver implantando dispositivos móveis, verifique se o fornecedor HLB oferece suporte à mesma funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="d30c1-218">If you're deploying mobile devices, ensure your HLB vendor supports the same functionality.</span></span> <span data-ttu-id="d30c1-219">Os aplicativos móveis iOS mais recentes exigem TLS versão 1.2.</span><span class="sxs-lookup"><span data-stu-id="d30c1-219">The latest iOS mobile apps require TLS version 1.2.</span></span> <span data-ttu-id="d30c1-220">Se você precisar saber mais, o F5 fornece configurações específicas para isso.</span><span class="sxs-lookup"><span data-stu-id="d30c1-220">If you need to know more, F5 provides specific settings for this.</span></span> 
  
<span data-ttu-id="d30c1-221">Aqui estão os requisitos de HLB para o Diretor (opcional) e (necessário) Serviços Web do pool de front-end:</span><span class="sxs-lookup"><span data-stu-id="d30c1-221">Here are the HLB requirements for the (optional) Director and (required) Front End pool Web Services:</span></span>
  
- <span data-ttu-id="d30c1-222">Para seus VIPs de Serviços Web internos, de definir Source_addr persistência (porta interna 80, 443) em seu HLB.</span><span class="sxs-lookup"><span data-stu-id="d30c1-222">For your internal Web Services VIPs, set Source_addr persistence (internal port 80, 443) on your HLB.</span></span> <span data-ttu-id="d30c1-223">Para o Skype for Business Server, Source_addr persistência significa que várias conexões provenientes de um único endereço IP são sempre enviadas para um servidor, para manter o estado da sessão.</span><span class="sxs-lookup"><span data-stu-id="d30c1-223">For Skype for Business Server, Source_addr persistence means that multiple connections coming from a single IP address are always sent to one server, to maintain session state.</span></span>
    
- <span data-ttu-id="d30c1-224">Use um tempo de ociosidade TCP de 1800 segundos.</span><span class="sxs-lookup"><span data-stu-id="d30c1-224">Use a TCP idle timeout of 1800 seconds.</span></span>
    
- <span data-ttu-id="d30c1-225">No firewall entre o proxy reverso e o HLB do pool de próximo salto, crie uma regra para permitir https: tráfego na porta 4443, do proxy reverso para o HLB.</span><span class="sxs-lookup"><span data-stu-id="d30c1-225">On the firewall between your reverse proxy and your next hop pool's HLB, create a rule to allow https: traffic on port 4443, from your reverse proxy to your HLB.</span></span> <span data-ttu-id="d30c1-226">Seu HLB precisa ser configurado para escutar nas portas 80, 443 e 4443.</span><span class="sxs-lookup"><span data-stu-id="d30c1-226">Your HLB needs to be configured to listen on ports 80, 443, and 4443.</span></span>
    
#### <a name="summary-of-hlb-affinity-requirements"></a><span data-ttu-id="d30c1-227">Resumo dos requisitos de afinidade HLB</span><span class="sxs-lookup"><span data-stu-id="d30c1-227">Summary of HLB affinity requirements</span></span>

|<span data-ttu-id="d30c1-228">**Local do cliente/usuário**</span><span class="sxs-lookup"><span data-stu-id="d30c1-228">**Client/user location**</span></span>|<span data-ttu-id="d30c1-229">**Requisitos de afinidade de FQDN de serviços Web externos**</span><span class="sxs-lookup"><span data-stu-id="d30c1-229">**External web services FQDN affinity requirements**</span></span>|<span data-ttu-id="d30c1-230">**Requisitos de afinidade de FQSN de serviços Web internos**</span><span class="sxs-lookup"><span data-stu-id="d30c1-230">**Internal web services FQSN affinity requirements**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="d30c1-231">Skype for Business Web App (usuários internos e externos)</span><span class="sxs-lookup"><span data-stu-id="d30c1-231">Skype for Business Web App (internal and external users)</span></span>  <br/> <span data-ttu-id="d30c1-232">Dispositivo móvel (usuários internos e externos</span><span class="sxs-lookup"><span data-stu-id="d30c1-232">Mobile device (internal and external users</span></span>  <br/> |<span data-ttu-id="d30c1-233">Sem afinidade</span><span class="sxs-lookup"><span data-stu-id="d30c1-233">No affinity</span></span>  <br/> |<span data-ttu-id="d30c1-234">Afinidade do endereço de origem</span><span class="sxs-lookup"><span data-stu-id="d30c1-234">Source address affinity</span></span>  <br/> |
|<span data-ttu-id="d30c1-235">Skype for Business Web App (somente usuários externos)</span><span class="sxs-lookup"><span data-stu-id="d30c1-235">Skype for Business Web App (external users only)</span></span>  <br/> <span data-ttu-id="d30c1-236">Dispositivo móvel (usuários internos e externos</span><span class="sxs-lookup"><span data-stu-id="d30c1-236">Mobile device (internal and external users</span></span>  <br/> |<span data-ttu-id="d30c1-237">Sem afinidade</span><span class="sxs-lookup"><span data-stu-id="d30c1-237">No affinity</span></span>  <br/> |<span data-ttu-id="d30c1-238">Afinidade do endereço de origem</span><span class="sxs-lookup"><span data-stu-id="d30c1-238">Source address affinity</span></span>  <br/> |
|<span data-ttu-id="d30c1-239">Skype for Business Web App (somente usuários internos)</span><span class="sxs-lookup"><span data-stu-id="d30c1-239">Skype for Business Web App (internal users only)</span></span>  <br/> <span data-ttu-id="d30c1-240">Dispositivo móvel (não implantado)</span><span class="sxs-lookup"><span data-stu-id="d30c1-240">Mobile device (not deployed)</span></span>  <br/> |<span data-ttu-id="d30c1-241">Sem afinidade</span><span class="sxs-lookup"><span data-stu-id="d30c1-241">No affinity</span></span>  <br/> |<span data-ttu-id="d30c1-242">Afinidade do endereço de origem</span><span class="sxs-lookup"><span data-stu-id="d30c1-242">Source address affinity</span></span>  <br/> |
   
#### <a name="port-monitoring-for-hlbs"></a><span data-ttu-id="d30c1-243">Monitoramento de porta para HLBs</span><span class="sxs-lookup"><span data-stu-id="d30c1-243">Port monitoring for HLBs</span></span>

<span data-ttu-id="d30c1-244">Você define o monitoramento de porta em seus balanceadores de carga de hardware para determinar quando serviços específicos não estão mais disponíveis, devido a falha de hardware ou comunicações.</span><span class="sxs-lookup"><span data-stu-id="d30c1-244">You define port monitoring on your hardware load balancers to determine when specific services are no longer available, due to hardware or communications failure.</span></span> <span data-ttu-id="d30c1-245">Por exemplo, se o serviço de Servidor front-end (RTCSRV) parar porque o servidor front-end ou pool de front-end falhar, o monitoramento HLB também deve parar de receber tráfego nos Serviços Web.</span><span class="sxs-lookup"><span data-stu-id="d30c1-245">For example, if the Front End Server service (RTCSRV) stops because the Front End Server or Front End pool fails, the HLB monitoring should also stop receiving traffic on the Web Services.</span></span> <span data-ttu-id="d30c1-246">Você deve implementar o monitoramento de porta no HLB para monitorar o seguinte para sua interface externa HLB:</span><span class="sxs-lookup"><span data-stu-id="d30c1-246">You should implement port monitoring on the HLB to monitor the following for your HLB external interface:</span></span>
  
|<span data-ttu-id="d30c1-247">**IP/porta virtual**</span><span class="sxs-lookup"><span data-stu-id="d30c1-247">**Virtual IP/Port**</span></span>|<span data-ttu-id="d30c1-248">**Porta do nó**</span><span class="sxs-lookup"><span data-stu-id="d30c1-248">**Node Port**</span></span>|<span data-ttu-id="d30c1-249">**Máquina/monitor do nó**</span><span class="sxs-lookup"><span data-stu-id="d30c1-249">**Node Machine/Monitor**</span></span>|<span data-ttu-id="d30c1-250">**Perfil de persistência**</span><span class="sxs-lookup"><span data-stu-id="d30c1-250">**Persistence Profile**</span></span>|<span data-ttu-id="d30c1-251">**Anotações**</span><span class="sxs-lookup"><span data-stu-id="d30c1-251">**Notes**</span></span>|
|:-----|:-----|:-----|:-----|:-----|
|<span data-ttu-id="d30c1-252">\<pool\>web_mco_443_vs</span><span class="sxs-lookup"><span data-stu-id="d30c1-252">\<pool\>web_mco_443_vs</span></span>  <br/> <span data-ttu-id="d30c1-253">443</span><span class="sxs-lookup"><span data-stu-id="d30c1-253">443</span></span>  <br/> |<span data-ttu-id="d30c1-254">4443</span><span class="sxs-lookup"><span data-stu-id="d30c1-254">4443</span></span>  <br/> |<span data-ttu-id="d30c1-255">Front-end</span><span class="sxs-lookup"><span data-stu-id="d30c1-255">Front End</span></span>  <br/> <span data-ttu-id="d30c1-256">5061</span><span class="sxs-lookup"><span data-stu-id="d30c1-256">5061</span></span>  <br/> |<span data-ttu-id="d30c1-257">Nenhum</span><span class="sxs-lookup"><span data-stu-id="d30c1-257">None</span></span>  <br/> |<span data-ttu-id="d30c1-258">HTTPS</span><span class="sxs-lookup"><span data-stu-id="d30c1-258">HTTPS</span></span>  <br/> |
|<span data-ttu-id="d30c1-259">\<pool\>web_mco_80_vs</span><span class="sxs-lookup"><span data-stu-id="d30c1-259">\<pool\>web_mco_80_vs</span></span>  <br/> <span data-ttu-id="d30c1-260">80</span><span class="sxs-lookup"><span data-stu-id="d30c1-260">80</span></span>  <br/> |<span data-ttu-id="d30c1-261">8080</span><span class="sxs-lookup"><span data-stu-id="d30c1-261">8080</span></span>  <br/> |<span data-ttu-id="d30c1-262">Front-end</span><span class="sxs-lookup"><span data-stu-id="d30c1-262">Front End</span></span>  <br/> <span data-ttu-id="d30c1-263">5061</span><span class="sxs-lookup"><span data-stu-id="d30c1-263">5061</span></span>  <br/> |<span data-ttu-id="d30c1-264">Nenhum</span><span class="sxs-lookup"><span data-stu-id="d30c1-264">None</span></span>  <br/> |<span data-ttu-id="d30c1-265">HTTP</span><span class="sxs-lookup"><span data-stu-id="d30c1-265">HTTP</span></span>  <br/> |
   
## <a name="hardware-and-software-requirements"></a><span data-ttu-id="d30c1-266">Requisitos de hardware e software</span><span class="sxs-lookup"><span data-stu-id="d30c1-266">Hardware and software requirements</span></span>

<span data-ttu-id="d30c1-267">Abordamos os requisitos de hardware e software do Servidor de Borda em nossos requisitos gerais do Servidor para [o Skype for Business Server 2015](../../plan-your-deployment/requirements-for-your-environment/server-requirements.md) e requisitos do sistema para a documentação do Skype for Business Server [2019.](../../../SfBServer2019/plan/system-requirements.md)</span><span class="sxs-lookup"><span data-stu-id="d30c1-267">We've covered Edge Server hardware and software requirements in our overall [Server requirements for Skype for Business Server 2015](../../plan-your-deployment/requirements-for-your-environment/server-requirements.md) and  [System requirements for Skype for Business Server 2019](../../../SfBServer2019/plan/system-requirements.md) documentation.</span></span>
  
## <a name="collocation"></a><span data-ttu-id="d30c1-268">Collocation</span><span class="sxs-lookup"><span data-stu-id="d30c1-268">Collocation</span></span>

<span data-ttu-id="d30c1-269">Abordamos a localização do Servidor de Borda em nossa [documentação do Noções Básicas de Topologia do Skype for Business Server.](../../plan-your-deployment/topology-basics/topology-basics.md)</span><span class="sxs-lookup"><span data-stu-id="d30c1-269">We've covered Edge Server collocation in our [Topology Basics for Skype for Business Server](../../plan-your-deployment/topology-basics/topology-basics.md) documentation.</span></span>
